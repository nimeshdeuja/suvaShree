(this.webpackJsonpshuvashree=this.webpackJsonpshuvashree||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var c=n(9),o=n.n(c),r=n(42),i=n.n(r),a=n(34),u=n(14),d=n(16),s=n(27),l=n(33),b=n(11),O=function(e,t){"development"===Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENV&&(t?console.error(e+" "+t):console.log(e))},f=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}));return t},h=n(43),_={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID},E=Object(h.a)(_),S=Object(s.b)(),j=function(){return new Promise((function(e,t){S&&S.currentUser&&function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID?Object({NODE_ENV:"production",PUBLIC_URL:"/suvaShree",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID:"";return t.replace(" ",""),t.split(","),t.includes(e)}(S.currentUser.uid)?e(200):(O("Unauthorized: "),t(401))}))},m=function(){return new Promise((function(e,t){Object(s.e)(S).then((function(){e(200),O("Successfully signing out:",null)})).catch((function(e){O("Error on SignOut:",e),t(e)}))}))},v=Object(b.e)(E),T=Object(b.a)(v,"members"),x=function(e){return new Promise((function(t,n){var c;(c=e.email,new Promise((function(e,t){var n=Object(b.f)(T,Object(b.i)("email","==",c));Object(b.d)(n).then((function(n){var c=[];n.forEach((function(e){return c.push(e.data())})),c.length>0?t(403):e(200)})).catch((function(e){O("Error on get users list:",e),t(500)}))}))).then((function(){j().then((function(){var c=f(),o=Object(b.c)(T,c);Object(b.g)(o,Object(l.a)(Object(l.a)({},e),{},{id:c})).then((function(){O("Member has been successfully created!"),t(200)})).catch((function(e){O("Error on CreateMember:",e),n(500)}))})).catch((function(e){return n(e)}))})).catch((function(e){403===e?(O("Already has account width this email",e),n(e)):(O("Error on CreateMember",e),n(500))}))}))},P=Object(b.e)(E),C=Object(b.a)(P,"roles"),D=n(10),R=o.a.createContext({}),A=function(e){var t=e.children,n=Object(c.useState)(!0),o=Object(d.a)(n,2),r=o[0],i=o[1],a=Object(c.useState)(null),u=Object(d.a)(a,2),l=u[0],f=u[1];return Object(c.useEffect)((function(){var e=function(){m(),i(!1),f(null)};r&&Object(s.c)(S,(function(t){var n;t?(i(!0),(n=t.uid,new Promise((function(e,t){var c=Object(b.f)(T,Object(b.i)("uid","==",n));Object(b.d)(c).then((function(n){var c=[];n.forEach((function(e){return c.push(e.data())})),c.length>0?e(c[0]):t(404)})).catch((function(e){O("Error on get members list:",e),t(500)}))}))).then((function(t){new Promise((function(e,t){Object(b.d)(C).then((function(t){var n=[];t.forEach((function(e){return n.push(e.data())})),e(n)})).catch((function(e){O("Error on GetRoles",e),t(500)}))})).then((function(n){var c=function(e,t){var n=t.filter((function(t){return t.id===e.roleId}));return{birth_date:e.birth_date,email:e.email,id:e.id,name:e.name,uid:e.uid,role:n.length>0?n[0]:null}}(t,n);c&&c.role?(f(c),i(!1)):(O("Role can not be empty!"),e())})).catch((function(t){O("Error on GetRoles:",t),e()}))})).catch((function(t){O("Error on GetMember:",t),e()}))):i(!1)}))}),[r]),Object(D.jsx)(R.Provider,{value:{authLoading:r,setAuthLoading:i,userData:l,setUserData:f},children:r?"Loading page...":t})},p=Object(b.e)(E),F=Object(b.a)(p,"families"),g=function(){var e,t,n,o=Object(c.useContext)(R),r=o.userData,i=o.setUserData,a=o.setAuthLoading;Object(c.useEffect)((function(){new Promise((function(e,t){Object(b.d)(F).then((function(t){var n=[];t.forEach((function(e){return n.push(e.data())})),e(n)})).catch((function(e){O("Error on GetFamily",e),t(500)}))})).then((function(e){console.table(e)})).catch((function(e){console.log("\ud83d\ude80 ~ file: Dashboard.tsx ~ line 18 ~ Get ~ error",e)}))}),[]);return Object(D.jsxs)("div",{children:["From Dashboard",Object(D.jsx)("button",{onClick:function(){m(),a(!0),i(null)},children:"Sign Out"}),Object(D.jsx)("button",{onClick:function(){return function(e){var t=e.name,n=e.members,c=e.contactPerson;new Promise((function(e,o){j().then((function(){var r=f(),i=Object(b.c)(F,r),a={name:t,id:r,members:n||null,contactPerson:c||null};Object(b.g)(i,a).then((function(){O("Family has been successfully created!"),e(200)})).catch((function(e){O("Error on CreateFamily:",e),o(500)}))})).catch((function(e){return o(e)}))}))}({name:"nimesh deuja"})},children:"Add Family"}),Object(D.jsx)("button",{onClick:function(){return function(e){var t=e.name,n=e.members,c=e.contactPerson,o=e.id;new Promise((function(e,r){var i={name:t,members:n||null,contactPerson:c||null};j().then((function(){var t=Object(b.c)(F,o);Object(b.h)(t,i).then((function(){O("Family (".concat(o,") has been successfully updated!")),e(200)})).catch((function(e){O("Error on UpdateFamily:",e),r(500)}))})).catch((function(e){return r(e)}))}))}({name:"testing",contactPerson:"c4164deb-56c5-42a6-a815-2f192c6a8234",id:"c4164deb-56c5-42a6-a815-2f192c6a8234"})},children:"update Family"}),Object(D.jsx)("button",{onClick:function(){return e="c4164deb-56c5-42a6-a815-2f192c6a8234",void new Promise((function(t,n){Object(b.b)(Object(b.c)(F,e)).then((function(){O("Family (".concat(e,") has been successfully deleted!")),t(200)})).catch((function(e){O("Error on DeleteFamily:",e),n(500)}))}));var e},children:"Delete Family"}),1===(null===r||void 0===r||null===(e=r.role)||void 0===e?void 0:e.code)&&Object(D.jsx)("button",{onClick:function(){x({birth_date:"1987-11-28",email:"test@gmail.com",name:"test",roleId:"e42528c2-cd09-4876-98d7-11f55c927947",uid:"22phfZ0fuVMwyHuG5ERk8dz7U7k2"})},children:"Add member"}),1===(null===r||void 0===r||null===(t=r.role)||void 0===t?void 0:t.code)&&Object(D.jsx)("button",{onClick:function(){!function(e){var t=e.name,n=e.birth_date,c=e.roleId,o=e.id;new Promise((function(e,r){var i={name:t,birth_date:n,roleId:c};j().then((function(){var t=Object(b.c)(T,o);Object(b.h)(t,i).then((function(){O("Member (".concat(o,") has been successfully updated!")),e(200)})).catch((function(e){O("Error on UpdateMember:",e),r(500)}))})).catch((function(e){return r(e)}))}))}({birth_date:"1987-11-28",name:"Nimesh Deuja",roleId:"e42528c2-cd09-4876-98d7-11f55c927947",id:"e05fbb51-6207-43b6-a9d9-933022633a2d"})},children:"Update member"}),1===(null===r||void 0===r||null===(n=r.role)||void 0===n?void 0:n.code)&&Object(D.jsx)("button",{onClick:function(){return e="ea2b48e8-a8b6-42d3-98b0-9d3186b6ed70",void new Promise((function(t,n){Object(b.b)(Object(b.c)(T,e)).then((function(){O("Member (".concat(e,") has been successfully deleted!")),t(200)})).catch((function(e){O("Error on DeleteMember:",e),n(500)}))}));var e},children:"Delete member"})]})},I=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useContext)(R).userData,o=(Object(u.g)().state||{from:{pathname:"/dashboard"}}).from;return n?Object(D.jsx)(u.a,{to:o}):Object(D.jsxs)("div",{children:["From login",Object(D.jsx)("input",{type:"text",defaultValue:"imnimesh017@gmail.com",ref:e}),Object(D.jsx)("input",{type:"text",defaultValue:"qwerty",ref:t}),Object(D.jsx)("button",{onClick:function(){var n,c,o=null===(n=e.current)||void 0===n?void 0:n.value,r=null===(c=t.current)||void 0===c?void 0:c.value;o&&r&&function(e,t){new Promise((function(n,c){Object(s.d)(S,e,t).then((function(e){O("Successfully signing in: ".concat(JSON.stringify(e.user,null,1))),n(200)})).catch((function(e){O("Error on SignIn:",e),c(e)}))}))}(o,r)},children:"Sign In"})]})},K=function(e){var t=e.exact,n=e.path,o=e.component,r=Object(c.useContext)(R).userData;return Object(D.jsx)(u.b,{exact:t,path:n,render:function(e){return r?Object(D.jsx)(o,Object(l.a)({},e)):Object(D.jsx)(u.a,{to:{pathname:"/",state:{from:e.location}}})}})},y=function(){return Object(D.jsx)(A,{children:Object(D.jsx)(a.a,{children:Object(D.jsxs)(u.d,{children:[Object(D.jsx)(u.b,{exact:!0,path:"/",component:I}),Object(D.jsx)(K,{exact:!0,path:"/dashboard",component:g})]})})})};i.a.render(Object(D.jsx)(o.a.StrictMode,{children:Object(D.jsx)(y,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.2d1b10c9.chunk.js.map